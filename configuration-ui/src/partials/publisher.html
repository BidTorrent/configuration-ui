<div class="bidtorrentPage container">
    <h1>Publishers</h1>

    <h2>What type of integration do you need?</h2>

    <div class="row chooseType">
        <div class="col-xs-offset-2 col-xs-8">
            <button class="btn btn-lg btn-primary choose-type-btn col-xs-5"
                    ng-class="{active: staticConfigForm.isTypeWebsite}"
                    ng-click="staticConfigForm.isTypeWebsite=!staticConfigForm.isTypeWebsite">Website</button>
            <div class="col-xs-2 iconContainer">
                <i class="fa fa-file-code-o" ng-if="staticConfigForm.isTypeWebsite"></i>
                <i class="fa fa-mobile" ng-if="!staticConfigForm.isTypeWebsite"></i>
            </div>
            <button class="btn btn-lg btn-primary choose-type-btn col-xs-5"
                    ng-class="{active : !staticConfigForm.isTypeWebsite}"
                    ng-click="staticConfigForm.isTypeWebsite=!staticConfigForm.isTypeWebsite">In App</button>
        </div>
    </div>

    <h2>Register as a Publisher <i class="fa fa-space-shuttle"></i></h2>
    <form class="bidtorrentForm bidderRegisterForm">
        <div class="form-group row">
            <label for="bidderName" class="control-label col-md-2">Name</label>
            <div class="col-md-10">
                <input type="text" class="form-control" id="bidderName" placeholder="ex: Criteo" ng-model="registerForm.name">
            </div>
        </div>
        <div class="form-group row validation">
            <button type="submit" class="btn btn-md btn-success col-md-offset-4 col-md-4" ng-click="submitRegistration()">
                Register me
            </button>
        </div>
    </form>

    <h2>Setup your static configuration <i class="fa fa-sliders"></i></h2>
    <div class="row">
        <form class="col-md-6">
            <h3>Global info</h3>
            <div class="form-group">
                <label for="pubCountry" class="control-label">Country (ISO 3166-2)</label>
                <input type="text" class="form-control" id="pubCountry" placeholder="ex: FR" ng-model="staticConfigForm.country">
            </div>
            <div class="form-group" ng-class="[{'has-error' : staticConfigForm.timeout && !isStrictPositiveInt(staticConfigForm.timeout)}]">
                <label for="pubTimeout" class="control-label">Timeout (in ms)</label>
                <input type="text" class="form-control" id="pubTimeout" placeholder="ex: 500" ng-model="staticConfigForm.timeout">
            </div>
        </form>
        <form class="col-md-6">
            <h3>Blacklisting</h3>
            <div class="form-group">
                <label for="pubBlacklistedDomains" class="control-label">Domains</label>
                <input type="text" class="form-control" id="pubBlacklistedDomains" placeholder="ex: advertiser1.com;blog.avd2.fr" ng-model="staticConfigForm.blacklistedDomains">
            </div>
            <div class="form-group">
                <label for="pubBlacklistedCategories" class="control-label">IAB Categories</label>
                <input type="text" class="form-control" id="pubBlacklistedCategories" placeholder="ex: IAB25-3;IAB26" ng-model="staticConfigForm.blacklistedCategories">
            </div>
            <div class="form-group row">
                <label for="impSecured" class="control-label col-md-3">Secured </label>
                <div class="col-md-5"><input type="radio" name="type" value="true" ng-model="staticConfigForm.secured"> My website support https</div>
                <div class="col-md-4"><input type="radio" name="type" value="false" ng-model="staticConfigForm.secured"> I only want http ads</div>
            </div>
        </form>
    </div>

    <div class="row validation">
        <button type="submit" class="btn btn-md btn-success col-md-offset-4 col-md-4"
                ng-click="downloadConfig()">Download config</button>
        <a id="downloadFile" style="display:none"></a>
    </div>

    <h2>Create the bidding script configuration <i class="fa fa-code"></i></h2>

    <div class="row">
        <h3><b>1.</b> Create your configuration</h3>


        <!-- MANDATORY SETTINGS -->

        <div class="mandatorySettings well">
            <h4>Mandatory Settings</h4>

            <form class="row">
                <div class="form-group col-xs-3">
                    <label class="control-label">Element DOM id</label>
                </div>
                <div class="form-group col-xs-3" ng-class="[{'has-error' : slot.width && !isStrictPositiveInt(slot.width)}]">
                    <label class="control-label">Width</label>
                </div>
                <div class="form-group col-xs-3" ng-class="[{'has-error' : slot.height && !isStrictPositiveInt(slot.height)}]">
                    <label class="control-label">Height</label>
                </div>
                <div class="form-group col-xs-3">
                    <label class="control-label">Floor</label>
                </div>
            </form>
            <form class="row" ng-repeat="(key, slot) in dynConfigForm.slots">
                <div class="form-group col-xs-3">
                    <input type="text" class="form-control" placeholder="ex: desktop_ad_top" ng-model="slot.element">
                </div>
                <div class="form-group col-xs-3" ng-class="[{'has-error' : slot.width && !isStrictPositiveInt(slot.width)}]">
                    <input type="text" class="form-control" placeholder="ex: 200" ng-model="slot.width">
                </div>
                <div class="form-group col-xs-3" ng-class="[{'has-error' : slot.height && !isStrictPositiveInt(slot.height)}]">
                    <input type="text" class="form-control" placeholder="ex: 600" ng-model="slot.height">
                </div>
                <div class="form-group col-xs-2">
                    <input type="text" class="form-control" placeholder="ex: 1.2" ng-model="slot.floor">
                </div>
                <div class="form-group col-xs-1">
                    <button type="submit" class="form-control btn btn-md btn-danger col-md-4" ng-click="dynConfigForm.slots.splice(key, 1)"><i class="fa fa-minus"></i></button>
                </div>
            </form>
            <form class="row">
                <div class="form-group col-md-12">
                   <button type="submit" class="btn btn-md btn-success col-md-2"
                    ng-click="dynConfigForm.slots.push({ element: null, width: null, height: null, floor: null })"><i class="fa fa-plus"></i> Add slot</button>
                </div>
            </form>
        </div>
        <!-- END MANDATORY SETTINGS-->

        <!-- ADVANCED SETTINGS -->
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#advancedSettings" aria-expanded="false" aria-controls="advancedSettings">
            <i class="fa fa-star"></i> Toggle advanced settings
        </button>

        <div class="collapse"id="advancedSettings" >
            <div class="well">
                <h4>Advanced Settings</h4>

                <form class="row">
                    <!-- AUCTION.HTML -->
                    <div class="form-group col-md-3">
                        <label for="auction" class="control-label">&nbsp;</label>
                        <button class="btn btn-block" ng-click="hostAuction=!hostAuction"
                                ng-class="hostAuction ? 'btn-success' : 'btn-warning'">
                            <span ng-if="!hostAuction">I want to host my own auction.html</span>
                            <span ng-if="hostAuction">Use BidTorrent.io auction.html</span>
                        </button>
                    </div>
                    <div class="form-group col-md-9">
                        <label for="auction" class="control-label">
                            <span class="optionnal">(Opt)</span> - Path to your auction.html file <i>(will fallback to the BidTorrent.io auction.html)</i>
                        </label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="auction"
                                   placeholder="ex: ../src/auction.html"
                                   ng-model="dynConfigForm.auction" ng-disabled="!hostAuction">
                            <span class="input-group-btn">
                                <button type="submit" class="form-control btn btn-md btn-success" ng-click="" ng-disabled="!hostAuction">Download auction.html</button>
                            </span>
                        </div>
                    </div>

                    <!-- BIDDERS.JSON -->
                    <div class="form-group col-md-3">
                        <label for="bidders" class="control-label">&nbsp;</label>
                        <button class="btn btn-primary btn-block" ng-click="hostBidders=!hostBidders"
                                ng-class="hostBidders ? 'btn-success' : 'btn-warning'">
                            <span ng-if="!hostBidders">I want to host my own bidders.json</span>
                            <span ng-if="hostBidders">Use BidTorrent.io bidders.json</span>
                        </button>
                    </div>
                    <div class="form-group col-md-9">
                        <label for="bidders" class="control-label">
                            <span class="optionnal">(Opt)</span> - Path to your bidders.json file <i>(will fallback to the BidTorrent.io bidders.json)</i>
                        </label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="bidders"
                                   placeholder="ex: ../src/bidders.json"
                                   ng-model="dynConfigForm.bidders" ng-disabled="!hostBidders">
                            <span class="input-group-btn">
                                <button type="submit" class="form-control btn btn-md btn-success" ng-click="" ng-disabled="!hostBidders">Download bidders.json</button>
                            </span>
                        </div>
                    </div>

                    <!-- CONFIG.JSON -->
                    <div class="form-group col-md-3">
                        <label for="config" class="control-label">&nbsp;</label>
                        <button class="btn btn-primary btn-block" ng-click="hostConfig=!hostConfig"
                                ng-class="hostConfig ? 'btn-success' : 'btn-warning'">
                            <span ng-if="!hostConfig">I want to host my own config.json</span>
                            <span ng-if="hostConfig">Use BidTorrent.io config.json</span>
                        </button>     
                    </div>
                    <div class="form-group col-md-9">
                        <label for="config" class="control-label">
                            <span class="optionnal">(Opt)</span> - Path to your static hosted config.json <i>(will fallback to your config hosted in BidTorrent.io <u class="optionnal">if you have an account</u>)</i>
                        </label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="config"
                                   placeholder="ex: ../src/config.json"
                                   ng-model="dynConfigForm.config" ng-disabled="!hostConfig">
                            <span class="input-group-btn">
                                <button type="submit" class="form-control btn btn-md btn-success" ng-click="" ng-disabled="!hostConfig">Download config.json</button>
                            </span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- END ADVANCED SETTINGS -->

        <h3><b>2.</b> Include the BidTorrent client script and its dynamic configuration to your webpage</h3>
        <div class="row">
            <code class="col-md-8 col-md-offset-2">
&lt;script src=&quot;http://bidtorrent.io/client.js&quot;&gt;&lt;/script&gt;<br/>
&lt;script type=&quot;text/javascript&quot;&gt;<br/>
&nbsp;&nbsp;bidTorrent({<br/>
<span ng-if="hostAuction">&nbsp;&nbsp;&nbsp;&nbsp;auction:&nbsp;&nbsp;    &#39;{{dynConfigForm.auction}}&#39;, //Optionnal if you want to host your own<br/></span>
<span ng-if="hostBidders">&nbsp;&nbsp;&nbsp;&nbsp;bidders:&nbsp;&nbsp;    &#39;{{dynConfigForm.bidders}}&#39;, //Optionnal if you want to host your own<br/></span>
<span ng-if="hostConfig">&nbsp;&nbsp;&nbsp;&nbsp;config:&nbsp;&nbsp;     &#39;{{dynConfigForm.config}}&#39;, //Optionnal if you want to host your own<br/></span>
&nbsp;&nbsp;&nbsp;&nbsp;slots:&nbsp;&nbsp;[ //List of ad slots by Id<br/>
<span ng-repeat="slot in dynConfigForm.slots">
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ element: &#39;{{slot.element}}&#39;<span ng-if="slot.width">, width: {{slot.width}}</span><span ng-if="slot.height">, height: {{slot.height}}</span><span ng-if="slot.floor">, floor: {{slot.floor}}</span> },<br/>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;]<br/>
&nbsp;&nbsp;});<br/>
&lt;/script&gt;
            </code>
        </div>
        <p>For more informations see our <a href="https://github.com/BidTorrent/client-js">Github repository</a></p>
    </div>
</div>